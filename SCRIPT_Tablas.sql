-- Script's para la creación de tablas para un sistema de gestión de inventario

CREATE TABLE USUARIO (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    USERNAME VARCHAR2(50) UNIQUE NOT NULL,
    PASSWORD_HASH VARCHAR2(255) NOT NULL
);

CREATE TABLE CATEGORIA (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NOMBRE VARCHAR2(100) NOT NULL
);

CREATE TABLE PRODUCTO (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NOMBRE VARCHAR2(100) NOT NULL,
    STOCK NUMBER DEFAULT 0,
    ID_CATEGORIA NUMBER NOT NULL,
    CONSTRAINT FK_PRODUCTO_CATEGORIA FOREIGN KEY (ID_CATEGORIA) REFERENCES CATEGORIA(ID)
);

CREATE TABLE MOVIMIENTO (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    TIPO VARCHAR2(10) CHECK (TIPO IN ('ENTRADA', 'SALIDA')),
    CANTIDAD NUMBER NOT NULL,
    FECHA DATE DEFAULT SYSDATE,
    ID_PRODUCTO NUMBER NOT NULL,
    CONSTRAINT FK_MOVIMIENTO_PRODUCTO FOREIGN KEY (ID_PRODUCTO) REFERENCES PRODUCTO(ID)
);


